{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}" dir="ltr" data-nav-layout="vertical" data-theme-mode="light" data-header-styles="transparent" data-width="fullwidth" data-menu-styles="transparent" data-page-style="flat">

    <head>

        <!-- Meta Data -->
        <meta charset="UTF-8">
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="Description" content="Django Bootstrap Responsive Admin Web Dashboard Template">
        <meta name="Author" content="Spruko Technologies Private Limited">
        
        <!-- Title -->
        <title>{% trans 'Inicia sesión' %} - Kashet</title>
        
        <!-- Favicon -->
        <link rel="icon" href="{% static 'assets/images/brand-logos/favicon.ico'%}" type="image/x-icon">
    
        <!-- Start::styles -->
        {% include 'components/layouts/styles.html' %}
        <!-- End::styles -->  

    </head>

    <body class="">

        <div class="progress-top-bar"></div>

        <!-- Loader -->
        <div id="loader" >
            <img src="{% static 'assets/images/media/loader.svg'%}" alt="">
        </div>
        <!-- Loader -->

        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-xl-4 col-lg-5 col-md-7 mx-auto">
                    <div class="card shadow-lg border-0">
                        <div class="card-body p-4 p-md-5">
                            <div class="text-center mb-4">
                                <img src="{% static 'assets/images/brand-logos/desktop-logo.png' %}" alt="Logo" class="mb-3" height="48">
                                <h3 class="fw-semibold">{% trans 'Bienvenido nuevamente' %}</h3>
                                <p class="text-muted mb-0">{% trans 'Ingresa tus credenciales para continuar.' %}</p>
                            </div>

                            {% if messages %}
                                {% for message in messages %}
                                    <div class="alert alert-{{ message.tags }} mb-3">{{ message }}</div>
                                {% endfor %}
                            {% endif %}

                            <form method="post" novalidate>
                                {% csrf_token %}
                                <div class="mb-3">
                                    <label for="{{ form.username.id_for_label }}" class="form-label">{% trans 'Email/usuario' %}</label>
                                    {{ form.username }}
                                    {% if form.username.errors %}<div class="text-danger small">{{ form.username.errors }}</div>{% endif %}
                                </div>

                                <div class="mb-3">
                                    <label for="{{ form.password.id_for_label }}" class="form-label">{% trans 'Contraseña' %}</label>
                                    <div class="position-relative">
                                        {{ form.password }}
                                        <button type="button" class="btn btn-sm btn-link position-absolute top-50 end-0 translate-middle-y text-decoration-none" id="toggle-password">{% trans 'Mostrar' %}</button>
                                    </div>
                                    {% if form.password.errors %}<div class="text-danger small">{{ form.password.errors }}</div>{% endif %}
                                </div>

                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="remember" name="remember">
                                        <label class="form-check-label" for="remember">{% trans 'Recordarme' %}</label>
                                    </div>
                                    <!-- <a href="#" class="small text-primary text-decoration-none">{% trans '¿Olvidaste tu contraseña?' %}</a> -->
                                </div>

                                <button type="submit" class="btn btn-primary w-100">{% trans 'Iniciar sesión' %}</button>
                            </form>

                        </div>
                    </div>

                    <div class="text-center mt-4 text-muted small">
                        &copy; {{ year }} Polaroiks. {% trans 'Todos los derechos reservados.' %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Start::scripts -->
        {% include 'components/layouts/scripts.html' %}
        
        <!-- Custom JS -->
        <script src="{% static 'assets/js/custom.js'%}"></script>
        
        <script>
            const toggle = document.getElementById('toggle-password');
            const passwordInput = document.getElementById('{{ form.password.id_for_label }}');
            toggle?.addEventListener('click', () => {
                const isPassword = passwordInput.type === 'password';
                passwordInput.type = isPassword ? 'text': 'password';
                toggle.textContent = isPassword ? "{% trans 'Ocultar' %}" : "{% trans 'Mostrar' %}";
            });
        </script>

    </body>
    
</html>