{% extends 'components/base.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid">
  <!-- Header -->
  <div class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
    <h1 class="page-title fw-semibold fs-18 mb-0">Agregar Rol</h1>
    <div class="ms-md-1 ms-0">
      <nav>
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item"><a href="{% url 'app:index' %}">Dashboard</a></li>
          <li class="breadcrumb-item"><a href="{% url 'app:roles' %}">Roles</a></li>
          <li class="breadcrumb-item active" aria-current="page">Agregar</li>
        </ol>
      </nav>
    </div>
  </div>

  <div class="row">
    <!-- Formulario Principal -->
    <div class="col-xl-8">
      <div class="card custom-card">
        <div class="card-header">
          <div class="card-title">Información del Rol</div>
        </div>
        <div class="card-body">
          <form>
            {% csrf_token %}
            <div class="row g-3">
              <!-- Información Básica -->
              <div class="col-md-6">
                <label class="form-label">Nombre del Rol</label>
                <input type="text" class="form-control" placeholder="Ej: Editor">
              </div>
              <div class="col-md-6">
                <label class="form-label">Nivel de Acceso</label>
                <select class="form-select">
                  <option selected>Seleccionar nivel</option>
                  <option value="1">Básico</option>
                  <option value="2">Intermedio</option>
                  <option value="3">Avanzado</option>
                  <option value="4">Completo</option>
                </select>
              </div>

              <!-- Descripción -->
              <div class="col-12">
                <label class="form-label">Descripción</label>
                <textarea class="form-control" rows="3" placeholder="Descripción del rol y sus responsabilidades..."></textarea>
              </div>

              <!-- Permisos por Módulo -->
              <div class="col-12">
                <h6 class="fw-semibold mb-3">Permisos por Módulo</h6>
                
                <!-- Presupuesto -->
                <div class="card border mb-3">
                  <div class="card-header p-3">
                    <div class="d-flex align-items-center">
                      <i class="ri-pie-chart-line me-2 text-primary"></i>
                      <h6 class="mb-0">Presupuesto</h6>
                    </div>
                  </div>
                  <div class="card-body p-3">
                    <div class="row g-2">
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="budget-view">
                          <label class="form-check-label" for="budget-view">Ver</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="budget-create">
                          <label class="form-check-label" for="budget-create">Crear</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="budget-edit">
                          <label class="form-check-label" for="budget-edit">Editar</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="budget-delete">
                          <label class="form-check-label" for="budget-delete">Eliminar</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Gastos -->
                <div class="card border mb-3">
                  <div class="card-header p-3">
                    <div class="d-flex align-items-center">
                      <i class="ri-bill-line me-2 text-danger"></i>
                      <h6 class="mb-0">Gastos</h6>
                    </div>
                  </div>
                  <div class="card-body p-3">
                    <div class="row g-2">
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="bills-view">
                          <label class="form-check-label" for="bills-view">Ver</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="bills-create">
                          <label class="form-check-label" for="bills-create">Crear</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="bills-edit">
                          <label class="form-check-label" for="bills-edit">Editar</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="bills-delete">
                          <label class="form-check-label" for="bills-delete">Eliminar</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Departamentos -->
                <div class="card border mb-3">
                  <div class="card-header p-3">
                    <div class="d-flex align-items-center">
                      <i class="ri-building-line me-2 text-info"></i>
                      <h6 class="mb-0">Departamentos</h6>
                    </div>
                  </div>
                  <div class="card-body p-3">
                    <div class="row g-2">
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="dept-view">
                          <label class="form-check-label" for="dept-view">Ver</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="dept-create">
                          <label class="form-check-label" for="dept-create">Crear</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="dept-edit">
                          <label class="form-check-label" for="dept-edit">Editar</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="dept-delete">
                          <label class="form-check-label" for="dept-delete">Eliminar</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Usuarios -->
                <div class="card border">
                  <div class="card-header p-3">
                    <div class="d-flex align-items-center">
                      <i class="ri-user-line me-2 text-warning"></i>
                      <h6 class="mb-0">Usuarios</h6>
                    </div>
                  </div>
                  <div class="card-body p-3">
                    <div class="row g-2">
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="users-view">
                          <label class="form-check-label" for="users-view">Ver</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="users-create">
                          <label class="form-check-label" for="users-create">Crear</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="users-edit">
                          <label class="form-check-label" for="users-edit">Editar</label>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="users-delete">
                          <label class="form-check-label" for="users-delete">Eliminar</label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Panel Lateral -->
    <div class="col-xl-4">
      <!-- Vista Previa -->
      <div class="card custom-card">
        <div class="card-header">
          <div class="card-title">Vista Previa</div>
        </div>
        <div class="card-body text-center">
          <div class="avatar avatar-xl bg-primary-transparent mb-3">
            <i class="ri-shield-line fs-24"></i>
          </div>
          <h6 class="fw-semibold mb-1">Nuevo Rol</h6>
          <p class="text-muted mb-2">Sin descripción</p>
          <span class="badge bg-secondary-transparent">Básico</span>
        </div>
      </div>

      <!-- Configuración -->
      <div class="card custom-card">
        <div class="card-header">
          <div class="card-title">Configuración</div>
        </div>
        <div class="card-body">
          <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="role-active" checked>
            <label class="form-check-label" for="role-active">
              Rol activo
            </label>
          </div>
          <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="role-inheritable">
            <label class="form-check-label" for="role-inheritable">
              Permisos heredables
            </label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="role-temporary">
            <label class="form-check-label" for="role-temporary">
              Rol temporal
            </label>
          </div>
        </div>
      </div>

      <!-- Acciones -->
      <div class="card custom-card">
        <div class="card-body">
          <div class="d-grid gap-2">
            <button type="button" class="btn btn-primary">
              <i class="ri-shield-check-line me-1"></i>Crear Rol
            </button>
            <button type="button" class="btn btn-light">
              <i class="ri-file-copy-line me-1"></i>Duplicar Rol Existente
            </button>
            <a href="{% url 'app:roles' %}" class="btn btn-outline-secondary">
              <i class="ri-arrow-left-line me-1"></i>Cancelar
            </a>
          </div>
        </div>
      </div>

      <!-- Roles Existentes -->
      <div class="card custom-card">
        <div class="card-header">
          <div class="card-title">Roles Existentes</div>
        </div>
        <div class="card-body p-0">
          <div class="list-group list-group-flush">
            <div class="list-group-item border-0 py-2">
              <div class="d-flex align-items-center">
                <div class="avatar avatar-sm bg-success-transparent me-2">
                  <i class="ri-shield-check-line fs-12"></i>
                </div>
                <div>
                  <div class="fw-semibold fs-13">Administrador</div>
                  <div class="text-muted fs-11">2 usuarios</div>
                </div>
              </div>
            </div>
            <div class="list-group-item border-0 py-2">
              <div class="d-flex align-items-center">
                <div class="avatar avatar-sm bg-info-transparent me-2">
                  <i class="ri-user-line fs-12"></i>
                </div>
                <div>
                  <div class="fw-semibold fs-13">Usuario</div>
                  <div class="text-muted fs-11">5 usuarios</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}

{% endblock %}